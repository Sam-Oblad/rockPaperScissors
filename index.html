<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
    <title>Rock paper scissors</title>
    </head>
    <body>
        <script>
            function game(){
                let playerScore = 0
                let computerScore = 0
                function playRound(playerSelection, computerSelection){
                    switch(playerSelection) {
                        case "rock":
                            if (computerSelection == "rock") {
                                return "It's a tie"
                            }else if (computerSelection == "paper") {
                                computerScore++
                                return "You Lose, paper beats rock"
                            }else {
                                playerScore++
                                return "You win, rock beats paper"
                            }
                            break;
                        case "paper":
                            if (computerSelection == "rock") {
                                playerScore++
                                return "You win, paper beats rock"
                            } else if (computerSelection == "paper") {
                                return "It's a tie"
                            } else{
                                computerScore++
                                return "You lose, scissors beat paper"
                            }
                            break;
                        case "scissors": 
                            if (computerSelection == "rock") {
                                computerScore++
                                return "You lose, rock beats paper"
                            } else if (computerSelection == "paper"){
                                playerScore++
                                return "You win, scissors beat paper"
                            } else {
                                return "It's a tie"
                            }
                    }
                }
                function getComputerChoice(){
                    let arr = ["rock", "paper" , "scissors"]
                    return arr[(Math.floor(Math.random() * arr.length))]
                }

                function getPlayerChoice(){
                    let arr = ["rock", "paper", "scissors"]
                    let response = prompt("Enter rock, paper or scissors: \n")
                    response = response.toLowerCase()
                    if (arr.includes(response)){
                        return response
                    }else{
                        alert("Please enter only 'rock', 'paper', or 'scissors'")
                        getPlayerChoice()
                    }
                    
                }

                for (let i = 0; i<5; i++){
                    const playerSelection = getPlayerChoice();
                    const computerSelection = getComputerChoice();
                    console.log(playRound(playerSelection, computerSelection))
                }

                if (playerScore > computerScore){
                    console.log(`You win by a score of ${playerScore} to ${computerScore}`)
                } else if (playerScore < computerScore){
                    console.log(`Computer wins by a score of ${computerScore} to ${playerScore}`)
                } else {
                    console.log("The game ends in a tie!")
                }
            }

            game()
        </script>
    </body>
</html>